<!DOCTYPE html>
<html>
  <head>
    <meta charset=UTF-8 />
    <title>TEST</title>
    <script>
    
      var cookieExpiration = "; expires=Fri, 31 Dec 9999 23:59:59 GMT";
      var inputFirstClick = false;
      
      function addCookie() {
        var noteId = Math.round(Math.random() * 10000);
        var noteText = document.getElementById("newNoteInputDiv").value;
        document.cookie = "note" + noteId + "=" + noteText + cookieExpiration;     
        showAllCookies();
        document.getElementById("newNoteInputDiv").innerHTML = "Type new note...";
        document.getElementById("newNoteInputDiv").className = ""
        inputFirstClick = false;
      }
      
      function updateCookie(cName) {
        console.log("-- update: " + cName);
        console.log("-- value: " + document.getElementById(cName).innerHTML);
        document.cookie = cName + "=" + document.getElementById(cName).innerHTML + cookieExpiration;
        showAllCookies();
      }
      
      function deleteCookie(cName) {
        console.log("-- del: " + cName);
        document.cookie = cName + "=; expires=Thu, 01 Jan 1970 00:00:01 GMT";
        showAllCookies();
      }

      function showAllCookies() {
        if(document.cookie === '') {
          document.getElementById("outDiv01").innerHTML = 'nothing';
          return;
        }
        console.log("(" + document.cookie.length + ") " + document.cookie);
        var cArray = document.cookie.split(";");
        var output1 = '';        
        for(var j = 0; j < cArray.length; j++) {
          var cName = cArray[j].trim().split("=")[0];
          var cValue = cArray[j].trim().split("=")[1];
          output1 += '<div id="' + cName + '">' + cValue + '</div>';
          output1 += '<br><input type="button" value="Delete" onclick="deleteCookie(\'' + cName + '\');">';
          output1 += ' <input type="button" value="Update" onclick="updateCookie(\'' + cName + '\');"><br><br>';
        }
        document.getElementById("outDiv01").innerHTML = output1;
      }
      
      function setText(cValue) {
        document.getElementById("noteTextInput").value = cValue;
      }
      
      function newNoteInputDivOnClick() {
        if(inputFirstClick == false) {
          inputFirstClick = true;
          document.getElementById("newNoteInputDiv").innerHTML = "";          
          document.getElementById("newNoteInputDiv").className = 'newNoteInputDiv2';
        }
      }
      
      function newNoteInputDivOnBlur() {
        document.getElementById("newNoteInputDiv").innerHTML = "Type new note...";
        document.getElementById("newNoteInputDiv").className = ""
        inputFirstClick = false;
      }
      
  </script>
  </head>
  <body onload="showAllCookies();">
       
    <div id="outDiv01"></div>
    
    <br><br><br>
    
    <div>
      <!--<div id="newNoteInputDiv" contenteditable="true" onClick="newNoteInputDivOnClick();">Type new note...</div>-->
      <input type="text" id="newNoteInputDiv"><br>
      <input type="button" id="addCookieBtn" value="Add Note" onclick="addCookie();">
    </div>

    <br><br><br><br><br>
    
    <div>
      <input type="button" id="addCookieBtn" value="Add Cookie" onclick="addCookie();"><br>
      <input type="button" id="updateCookieBtn" value="Update Cookie" onclick="updateCookie();"><br>
      <input type="button" id="delCookieBtn" value="Delete Cookie" onclick="deleteCookie();"><br>
      <input type="button" id="testBtn" value="Test" onclick="test();"> 
      <input type="button" id="showAllBtn" value="Show All Cookies" onclick="showAllCookies();">
    </div>
    
  </body>
</html>
